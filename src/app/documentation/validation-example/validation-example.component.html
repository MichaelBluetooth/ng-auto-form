<h2>Validation</h2>
<p>This section describes how you can optionally add validation to form controls. It also provides an example of how
  you can get the state of the forms validity, which can be used to do things like enable/disable buttons and prevent
  form submission.</p>

<h2>Example</h2>
<p>There are quite a few different validations that are supported. Try entering valid values for all controls and
  observe how the button becomes enabled.</p>
<af-form [formDefinition]="myValidatedFormDefinition" [(formData)]="myValidatedFormData" (formValidityChange)="isFormValid=$event"></af-form>
<button class="btn btn-primary" [disabled]="!isFormValid" (click)="printValidatedFormData()">Print Form Data</button>
<tabset>
  <tab heading="Template">
    <pre><code>
&#x3C;af-form 
  [formDefinition]=&#x22;myValidatedFormDefinition&#x22; 
  [(formData)]=&#x22;myValidatedFormData&#x22; 
&#x3C;/af-form&#x3E;
&#x3C;button [disabled]=&#x22;!isFormValid&#x22;&#x3E;Print Form Data&#x3C;/button&#x3E;
            </code></pre>
  </tab>
  <tab heading="Component">
    <pre>
            <code>
import {{'{'}} Component, OnInit {{'}'}} from &#x27;@angular/core&#x27;;
        
@Component({{'{'}}
  selector: &#x27;validated-text-field-example&#x27;,
  templateUrl: &#x27;./validated-text-field-example.component.html&#x27;,
  styleUrls: [&#x27;./validated-text-field-example.component.css&#x27;]
 {{'}'}})
export class ValidatedTextFieldExampleComponent {{'{'}}
  
  myValidatedFormData = {{'{'}}
    requiredField: &#x27;&#x27;,
    minLengthField: &#x27;too short&#x27;,
    maxLengthField: &#x27;way too long&#x27;,
    patternField: &#x27;value does not match pattern&#x27;,
    emailField: &#x27;email at place dot com&#x27;,
    mixedValidationsField: &#x27;&#x27;
   {{'}'}};

  myValidatedFormDefinition = {{'{'}}
    layout: [
      [&#x27;requiredField&#x27;, &#x27;minLengthField&#x27;, &#x27;maxLengthField&#x27;],
      [&#x27;patternField&#x27;, &#x27;emailField&#x27;],
      [&#x27;mixedValidationsField&#x27;]
    ],
    fields: [
      {{'{'}}
        name: &#x27;requiredField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Required Field&#x27;,
        validations: [{{'{'}} name: &#x27;Required&#x27; }]
       {{'}'}},
      {{'{'}}
        name: &#x27;minLengthField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Min length Field&#x27;,
        validations: [{{'{'}} name: &#x27;MinLength&#x27;, value: 15 }]
      {{'}'}},
      {{'{'}}
        name: &#x27;maxLengthField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Max Length Field&#x27;,
        validations: [{{'{'}} name: &#x27;MaxLength&#x27;, value: 5 }]
      },
      {{'{'}}
        name: &#x27;patternField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Pattern Field&#x27;,
        validations: [{{'{'}} name: &#x27;Pattern&#x27;, value: &#x27;\\d{{'{'}}3}-\\d{{'{'}}3}&#x27; }]
      {{'}'}},
      {{'{'}}
        name: &#x27;emailField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Email Field&#x27;,
        validations: [{{'{'}} name: &#x27;Email&#x27; }]
      {{'}'}},
      {{'{'}}
        name: &#x27;mixedValidationsField&#x27;,
        fieldType: &#x27;Text&#x27;,
        label: &#x27;Mixed Validations Field&#x27;,
        validations: [{{'{'}} name: &#x27;Required&#x27; }, {{'{'}} name: &#x27;MaxLength&#x27;, value: 12 }, {{'{'}} name: &#x27;MinLength&#x27;, value: 3 }]
      {{'}'}}
    ]
   {{'}'}};

  printValidatedFormData(): void {{'{'}}
    alert(&#x27;Look at the console to view the form data that was printed to the console!&#x27;);
    console.log(this.myValidatedFormData);
  {{'}'}}
{{'}'}}          
            </code>
          </pre>
  </tab>
</tabset>

<h3>Supported Validations</h3>
<p>Below is a table of fields and which validations it supports.</p>
<table class="table">
  <thead class="thead-light">
    <tr>
      <th scope="col">Validation</th>
      <th scope="col">Field</th>
      <th scope="col">Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Required</td>
      <td>All fields</td>
      <td><code>{{'{'}}name: 'Required'{{'}'}}</code></td>
    </tr>
    <tr>
      <td>MinLength</td>
      <td>Text, Memo</td>
      <td><code>{{'{'}}name: 'Minlength', value: 10{{'}'}}</code></td>
    </tr>
    <tr>
      <td>MinLength</td>
      <td>Text, Memo</td>
      <td><code>{{'{'}}name: 'Maxlength', value: 20{{'}'}}</code></td>
    </tr>
    <tr>
      <td>Pattern</td>
      <td>Text, Memo</td>
      <td><code>{{'{'}}name: 'Pattern', value: '\d-\d'{{'}'}}</code></td>
    </tr>
    <tr>
      <td>Email</td>
      <td>Text, Memo</td>
      <td><code>{{'{'}}name: 'Email'{{'}'}}</code></td>
    </tr>
    <tr>
      <td>Min</td>
      <td>Number</td>
      <td><code>{{'{'}}name: 'Min', value: 0{{'}'}}</code></td>
    </tr>
    <tr>
      <td>Max</td>
      <td>Number</td>
      <td><code>{{'{'}}name: 'Min', value: 255{{'}'}}</code></td>
    </tr>
    <tr>
        <td>GreaterThan</td>
        <td>Number</td>
        <td><code>{{'{'}}name: 'GreaterThan', value: 0{{'}'}}</code></td>
      </tr>
      <tr>
        <td>LessThan</td>
        <td>Number</td>
        <td><code>{{'{'}}name: 'LessThan', value: 255{{'}'}}</code></td>
      </tr>
  </tbody>
</table>